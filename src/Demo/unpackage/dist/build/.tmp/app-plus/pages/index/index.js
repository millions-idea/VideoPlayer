(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1dee":function(e,n,t){"use strict";var o=t("9b63"),i=t.n(o);i.a},"3c61":function(e,n,t){"use strict";t.r(n);var o=t("ebbb"),i=t.n(o);for(var s in o)"default"!==s&&function(e){t.d(n,e,function(){return o[e]})}(s);n["default"]=i.a},"6a8a":function(e,n,t){"use strict";t.r(n);var o=t("edaf"),i=t("3c61");for(var s in i)"default"!==s&&function(e){t.d(n,e,function(){return i[e]})}(s);t("1dee");var a=t("2877"),c=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"d3108bc8",null);n["default"]=c.exports},"9b63":function(e,n,t){},ebbb:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("2f62");function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){s(e,n,t[n])})}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a,c=0,u=function(){return t.e("components/jing-swiper/jing-swiper").then(t.bind(null,"4265"))},r=function(){return t.e("graceUI/components/graceLoading").then(t.bind(null,"101f"))},l={components:{jingSwiper:u,graceLoading:r},data:function(){return{loading:!1,loadingType:0,isEnd:!1,dataList:[],cid:0,maxPage:1e3,empty:!0,imgList:[{img:"https://stack-1251694474.cos.ap-guangzhou.myqcloud.com/aishi/banner1.png",desc:""},{img:"https://stack-1251694474.cos.ap-guangzhou.myqcloud.com/aishi/banner2.png",desc:""},{img:"https://stack-1251694474.cos.ap-guangzhou.myqcloud.com/aishi/banner3.png",desc:""}]}},onLoad:function(){a=this,c=0,null!=a.session.getValue("token")&&a.session.getValue("token").length>5&&(a.session.setValue("token",a.session.getValue("token")),a.login()),e.startPullDownRefresh()},onShow:function(){},computed:i({},(0,o.mapState)(["hasLogin","profile"])),onPullDownRefresh:function(){console.log("onPullDownRefresh"," at pages\\index\\index.vue:106"),this.getBanner(),this.getProfile(),this.getList()},onReachBottom:function(){this.getList()},onBackPress:function(){this.loadingType=0,this.isEnd=!1,c=0},methods:i({},(0,o.mapActions)(["setProfile","authOpenWindow","login","sysLogout"]),{getBanner:function(){var e=this,n=this.session.getValue("homeBanner");null!=n&&JSON.stringify(n).length>5&&(this.imgList=n),this.$api.get("api/bootstrap/getBannerList",{}).then(function(n){e.common.Response.isFaild(n.data)||e.common.Response.isException(n.data)||(e.imgList=n.data.data,e.session.setValue("homeBanner",e.imgList))})},getList:function(){if(c>this.maxPage)return this.isEnd=!0,this.loadingType=2,void e.stopPullDownRefresh();this.loadingType=1;var n=this;this.$api.get("api/home/getNewProductLimit",{page:c}).then(function(t){e.stopPullDownRefresh(),n.loadingType=3,200==t.data.code&&(n.maxPage=t.data.count,null!=t.data.data&&0!=t.data.data.length||(n.loadingType=3,e.showToast({title:"没有最近更新的视频哦",icon:"none"})),t.data.data.forEach(function(e){e.amount=e.amount.toFixed(2),e.showCount=e.showCount>9999?(e.showCount/1e4).toFixed(1)+"万":e.showCount}),n.dataList=n.dataList.concat(t.data.data),n.loadingType=0,c++)})},getProfile:function(){this.session.clearSession(),this.session.clearState();var n=this.session.getSession();if(null==n){console.log("加载用户信息"," at pages\\index\\index.vue:185");var t=this;this.$api.post("api/user/getProfile",{}).then(function(n){if(!t.common.Response.isFaild(n.data))if(t.common.Response.isException(n.data)){if("请先登录"==n.data.msg)return;e.showToast({title:n.data.msg,icon:"none"})}else t.session.setSession(n.data.msg),t.login(),t.setProfile(n.data.msg)}).catch(function(e){})}else console.log("更新用户信息"," at pages\\index\\index.vue:210"),a.setProfile(n)},onClick:function(e){console.log(JSON.stringify(e)," at pages\\index\\index.vue:218"),null!=e.desc&&-1!=e.desc.indexOf("http")?this.common.window.toNew("generics-webview/generics-webview",{url:e.desc}):this.hasLogin?this.common.window.toNew("index/player",{videoId:e.desc}):this.common.window.toNew("user/bootstrap/login",null)},onPlay:function(e){this.hasLogin?this.common.window.toNew("index/player",{videoId:e.productId,title:e.productName,poster:e.image}):this.common.window.toNew("user/bootstrap/login",null)}})};n.default=l}).call(this,t("6e42")["default"])},edaf:function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return i})}},[["8bc9","common/runtime","common/vendor"]]]);