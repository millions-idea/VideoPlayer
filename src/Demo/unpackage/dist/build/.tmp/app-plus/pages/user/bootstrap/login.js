(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/bootstrap/login"],{1628:function(n,t,e){"use strict";var o=function(){var n=this,t=n.$createElement;n._self._c},s=[];e.d(t,"a",function(){return o}),e.d(t,"b",function(){return s})},"1a99":function(n,t,e){"use strict";var o=e("6283"),s=e.n(o);s.a},6283:function(n,t,e){},8914:function(n,t,e){"use strict";e.r(t);var o=e("d1a3"),s=e.n(o);for(var i in o)"default"!==i&&function(n){e.d(t,n,function(){return o[n]})}(i);t["default"]=s.a},"8b86":function(n,t,e){"use strict";e.r(t);var o=e("1628"),s=e("8914");for(var i in s)"default"!==i&&function(n){e.d(t,n,function(){return s[n]})}(i);e("1a99");var a=e("2877"),r=Object(a["a"])(s["default"],o["a"],o["b"],!1,null,"3f341929",null);t["default"]=r.exports},d1a3:function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e("2f62");function s(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.forEach(function(t){i(n,t,e[t])})}return n}function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var a={data:function(){return{username:"",password:""}},computed:s({},(0,o.mapState)(["hasLogin","profile"])),onLoad:function(t){if(null!=t.pop&&n.showToast({title:t.pop,mask:!0,duration:5e3,icon:"none"}),null!=t.token){var e=this;n.showToast({title:"登录成功",icon:"none",success:function(){setTimeout(function(){e.session.setValue("token",t.token),e.login(),n.reLaunch({url:"../../index/index"})},2e3)}})}},methods:s({},(0,o.mapActions)(["setProfile","login","sysLogout"]),{changePhone:function(n){this.username=n.detail.value},changePassword:function(n){this.password=n.detail.value},loginWithPassword:function(){n.showLoading({title:"请稍后",mask:!1});var t=this;this.username.length<5||this.username.length>11?n.showToast({title:"请输入5-11位用户名",icon:"none"}):this.password.length<5||this.password.length>128?n.showToast({title:"请输入至少5位密码",icon:"none"}):this.$api.post("api/bootstrap/login",{username:t.username,password:t.password}).then(function(e){if(n.hideLoading(),!t.common.Response.isFaild(e.data))return t.common.Response.isException(e.data)?-1!=e.data.msg.indexOf("未绑定手机号")?(t.session.setValue("token",e.data.msg.toString().split(":")[1]),n.showToast({title:"首次登录用户需绑定手机号码",icon:"none"}),void setTimeout(function(){n.reLaunch({url:"/pages/user/bootstrap/bind"})},2e3)):void n.showToast({title:e.data.msg,icon:"none"}):void n.showToast({title:"登录成功",icon:"none",success:function(){setTimeout(function(){t.session.setValue("token",e.data.msg),t.login(),n.reLaunch({url:"../../index/index"})},2e3)}});n.showToast({title:"登录失败",icon:"none"})})}})};t.default=a}).call(this,e("6e42")["default"])}},[["4ec1","common/runtime","common/vendor"]]]);