(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/bill"],{"438a":function(t,e,a){},"5acf":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"92bb":function(t,e,a){"use strict";(function(t){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){return a.e("graceUI/components/graceLoading").then(a.bind(null,"101f"))},o=function(){return a.e("components/stack-empty/stack-empty").then(a.bind(null,"a56a"))},s=function(){return a.e("components/uni-nav-bar/uni-nav-bar").then(a.bind(null,"4e59"))},r={data:function(){return{tabCurrentIndex:0,swiperCurrentIndex:0,tabHeight:300,tabs:[{name:"交易流水",cid:0,id:"liushui",loadingType:0,page:1},{name:"提现申请",cid:1,id:"tixian",loadingType:0,page:1}],maxPage:0,dataList:[],desc:"",date:"",type:0,amount:"",id:"",balance:"",isShowDetail:!1,state:0,remark:"",withdrawRemark:"",scrollTop:0}},onLoad:function(){n=this,this.getGroupList(0,-1,null)},onReady:function(){t.getSystemInfo({success:function(e){var a=e.windowHeight,i=t.createSelectorQuery().select("#grace-tab-title");i.fields({size:!0},function(t){t&&(n.tabHeight=a-t.height)}).exec(),i=t.createSelectorQuery().select(".uni-navbar"),i.fields({size:!0},function(t){t&&(n.tabHeight=n.tabHeight-(t.height+20))}).exec()}})},watch:{isShowDetail:function(e){e&&t.pageScrollTo({scrollTop:0,duration:0})}},onPageScroll:function(e){this.isShowDetail&&t.pageScrollTo({scrollTop:0,duration:300})},onBackPress:function(){return!!this.isShowDetail&&(this.isShowDetail=!1,!0)},methods:{tabChange:function(t){var e=t.target.id.replace("tabTag-","");this.swiperCurrentIndex=e,this.tabCurrentIndex=e},swiperChange:function(t){var e=t.detail.current;this.tabCurrentIndex=e,console.log("当前tabCurrentIndex"+this.tabCurrentIndex," at pages\\user\\bill.vue:252")},scrollend:function(t){var e=t.currentTarget.dataset.scindex;if(console.log(e," at pages\\user\\bill.vue:258"),console.log(this.tabs[e].id," at pages\\user\\bill.vue:260"),1===this.tabs[e].loadingType)return!1;console.log(this.tabs[e].page," at pages\\user\\bill.vue:267"),this.tabs[e].page>this.maxPage?this.tabs[e].loadingType=2:(this.tabs[e].loadingType=1,this.getGroupList(this.tabs[e].cid,n.tabs[e].page,function(t){n.dataList[e]=n.dataList[e].concat(t[e]),n.tabs[e].page++,n.tabs[e].loadingType=0}))},showDetail:function(t){this.id=t.payId,this.desc=null==t.remark?t.tradeName:t.remark,this.date=t.addTime,this.type=t.tradeType,this.amount=t.amount,this.state=t.state,this.remark=t.remark,this.withdrawRemark=t.withdrawRemark,this.isShowDetail=!0},backUp:function(){this.isShowDetail?this.isShowDetail=!1:t.navigateBack({delta:1})},getGroupList:function(e,a,n){var i=this,o={categoryId:e};-1!=a&&(o={categoryId:e,page:a}),t.showLoading({title:"请稍后",mask:!1}),this.$api.get("api/bill/getGroupList",o).then(function(e){i.common.Response.isFaild(e.data)?t.showToast({title:"获取数据失败",icon:"none"}):i.common.Response.isException(e.data)?t.showToast({title:e.data.msg,icon:"none"}):(i.maxPage=e.data.count,t.hideLoading(),null!=n?n(e.data.data):i.dataList=e.data.data)}),setTimeout(function(){t.hideLoading()},5e3)}},components:{graceLoading:i,stackEmpty:o,uniNavBar:s}};e.default=r}).call(this,a("6e42")["default"])},c66b:function(t,e,a){"use strict";a.r(e);var n=a("5acf"),i=a("f12c");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("f210");var s=a("2877"),r=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"31a82d65",null);e["default"]=r.exports},f12c:function(t,e,a){"use strict";a.r(e);var n=a("92bb"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},f210:function(t,e,a){"use strict";var n=a("438a"),i=a.n(n);i.a}},[["79bd","common/runtime","common/vendor"]]]);