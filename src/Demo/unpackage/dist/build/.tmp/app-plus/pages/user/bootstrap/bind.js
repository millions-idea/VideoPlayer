(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/bootstrap/bind"],{1533:function(o,n,t){"use strict";var e=function(){var o=this,n=o.$createElement;o._self._c},s=[];t.d(n,"a",function(){return e}),t.d(n,"b",function(){return s})},"2c89":function(o,n,t){"use strict";t.r(n);var e=t("1533"),s=t("73f2");for(var i in s)"default"!==i&&function(o){t.d(n,o,function(){return s[o]})}(i);t("f1dd");var a=t("2877"),u=Object(a["a"])(s["default"],e["a"],e["b"],!1,null,"40c8b0e1",null);n["default"]=u.exports},"71e7":function(o,n,t){"use strict";(function(o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={components:{},data:function(){return{countDownText:"获取",countDownDisabled:!1,phone:"",password:"",smsCode:"",pcode:"",userId:0,promotionCode:""}},onLoad:function(o){null!=o.pcode&&(this.pcode=o.pcode),null!=o.userId&&(this.userId=o.userId)},methods:{changePhone:function(o){this.phone=o.detail.value},changePassword:function(o){this.password=o.detail.value},changeSmsCode:function(o){this.smsCode=o.detail.value},changePromotionCode:function(o){this.promotionCode=o.detail.value},getSmsCode:function(){var n=this;11==this.phone.length?this.$api.get("api/bootstrap/sendSmsCode",{phone:n.phone}).then(function(t){n.common.Response.isFaild(t.data)?o.showToast({title:"获取失败",icon:"none"}):(o.showToast({title:"已发送, 请注意查收!",icon:"none"}),n.countDownDisabled=!0,n.countDown=60,setInterval(function(){if(n.countDown<=0)return n.countDownText="获取",void(n.countDownDisabled=!1);n.countDown--,n.countDownText=n.countDown+"s"},1e3))}):o.showToast({title:"请输入11位手机号码",icon:"none"})},register:function(){if(11==this.phone.length)if(6==this.smsCode.length){var n=this;this.$api.post("api/bootstrap/bind",{userId:n.userId,phone:n.phone,smsCode:n.smsCode,promotionCode:n.promotionCode}).then(function(t){n.common.Response.isFaild(t.data)?o.showToast({title:"注册失败",icon:"none"}):n.common.Response.isException(t.data)?o.showToast({title:t.data.msg,icon:"none"}):(o.showToast({title:"注册成功",icon:"none"}),n.session.setValue("token",t.data.msg),o.reLaunch({url:"../../index/index"}))})}else o.showToast({title:"请输入6位短信验证码",icon:"none"});else o.showToast({title:"请输入11位手机号码",icon:"none"})}}};n.default=t}).call(this,t("6e42")["default"])},"73f2":function(o,n,t){"use strict";t.r(n);var e=t("71e7"),s=t.n(e);for(var i in e)"default"!==i&&function(o){t.d(n,o,function(){return e[o]})}(i);n["default"]=s.a},f1dd:function(o,n,t){"use strict";var e=t("f801"),s=t.n(e);s.a},f801:function(o,n,t){}},[["b532","common/runtime","common/vendor"]]]);