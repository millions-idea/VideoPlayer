(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/team"],{1825:function(t,e,a){"use strict";var n=a("2b24"),i=a.n(n);i.a},"2b24":function(t,e,a){},"30f9":function(t,e,a){"use strict";a.r(e);var n=a("a7cd"),i=a("b088");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("1825");var s=a("2877"),r=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"08b13e7b",null);e["default"]=r.exports},"40ad":function(t,e,a){"use strict";(function(t){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){return a.e("graceUI/components/graceLoading").then(a.bind(null,"101f"))},o=function(){return a.e("components/stack-empty/stack-empty").then(a.bind(null,"a56a"))},s=function(){return a.e("components/uni-nav-bar/uni-nav-bar").then(a.bind(null,"4e59"))},r=function(){return a.e("components/mehaotian-search/mehaotian-search").then(a.bind(null,"e5f6"))},c={data:function(){return{directMemberCount:0,smallMarketMemberCount:0,channelMemberCount:0,tabCurrentIndex:0,swiperCurrentIndex:0,tabHeight:300,tabs:[{name:"我的团队成员",id:"members",loadingType:0,page:1}],maxPage:1e3,dataList:[],desc:"",date:"",type:0,amount:"",id:"",balance:"",isShowDetail:!1,scrollTop:0,val1:""}},onLoad:function(){var t=this;n=this,this.dataList.forEach(function(e){e.forEach(function(e){e.desc.length>12?e.shortDesc=t.common.String.textLimit(e.desc,12):e.shortDesc=e.desc})}),this.getTeamPreview(),this.getTeamMembers(-1,null,null)},onReady:function(){t.getSystemInfo({success:function(t){var e=t.windowHeight;n.tabHeight=e-180}})},watch:{isShowDetail:function(e){e&&t.pageScrollTo({scrollTop:0,duration:0})}},onPageScroll:function(e){this.isShowDetail&&t.pageScrollTo({scrollTop:0,duration:300})},onBackPress:function(){return!!this.isShowDetail&&(this.isShowDetail=!1,!0)},methods:{search:function(t,e){console.log(t,e," at pages\\user\\team.vue:200"),this.getTeamMembers(-1,t,null)},tabChange:function(t){var e=t.target.id.replace("tabTag-","");this.swiperCurrentIndex=e,this.tabCurrentIndex=e},swiperChange:function(t){var e=t.detail.current;this.tabCurrentIndex=e,console.log("当前tabCurrentIndex"+this.tabCurrentIndex," at pages\\user\\team.vue:211")},scrollend:function(t){var e=t.currentTarget.dataset.scindex;if(console.log(e," at pages\\user\\team.vue:217"),console.log(this.tabs[e].id," at pages\\user\\team.vue:219"),1===this.tabs[e].loadingType)return!1;console.log(this.tabs[e].page," at pages\\user\\team.vue:226"),this.tabs[e].page>this.maxPage?this.tabs[e].loadingType=2:(this.tabs[e].loadingType=1,this.getTeamMembers(n.tabs[e].page,null,function(t){n.dataList[e]=n.dataList[e].concat(t[e]),n.tabs[e].page++,n.tabs[e].loadingType=0}))},showDetail:function(t){this.id=t.id,this.desc=t.desc,this.date=t.date,this.type=t.type,this.amount=t.amount,this.balance=t.balance,this.isShowDetail=!0},backUp:function(){this.isShowDetail?this.isShowDetail=!1:t.navigateBack({delta:1})},getTeamPreview:function(){var e=this;this.$api.get("api/team/getTeamPreview",{}).then(function(a){e.common.Response.isFaild(a.data)?t.showToast({title:"获取统计信息失败",icon:"none"}):e.common.Response.isException(a.data)?t.showToast({title:a.data.msg,icon:"none"}):(e.directMemberCount=a.data.msg.directSaleCount,e.smallMarketMemberCount=a.data.msg.samllMarketCount,e.channelMemberCount=a.data.msg.channelSaleCount)})},getTeamMembers:function(e,a,n){var i=this,o={};-1!=e&&(o={page:e}),null!=a&&(o={phone:a}),t.showLoading({title:"请稍后",mask:!1}),this.$api.get("api/team/getTeamMembers",o).then(function(e){i.common.Response.isFaild(e.data)?t.showToast({title:"获取数据失败",icon:"none"}):i.common.Response.isException(e.data)?t.showToast({title:e.data.msg,icon:"none"}):(i.maxPage=e.data.count,t.hideLoading(),null!=n?n(e.data.data):i.dataList=e.data.data)}),setTimeout(function(){t.hideLoading()},5e3)}},components:{graceLoading:i,stackEmpty:o,uniNavBar:s,mSearch:r}};e.default=c}).call(this,a("6e42")["default"])},a7cd:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},b088:function(t,e,a){"use strict";a.r(e);var n=a("40ad"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a}},[["f686","common/runtime","common/vendor"]]]);